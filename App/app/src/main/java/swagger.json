{"swagger":"3.0.0","info":{"version":"1.0.0","title":"Timetic szervezeti backend","contact":{"email":"you@your-company.com"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}},"paths":{"/employee/login":{"get":{"tags":["mobile","employee"],"summary":"Logs employee into the system","parameters":[],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"404":{"description":"Invalid username/password supplied"}},"security":[{"basicAuth":[]}]}},"/employee/logout":{"get":{"tags":["mobile","employee"],"summary":"Logs employee out of the system","parameters":[],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"tokenAuth":[]}]}},"/employee/forgottenPassword":{"get":{"tags":["mobile","employee"],"summary":"Asks for new password","parameters":[],"responses":{"200":{"description":"successful operation"},"404":{"description":"account not found"}}}},"/employee/refresh":{"get":{"tags":["mobile","employee"],"summary":"Refresh employee's token","parameters":[],"responses":{"200":{"description":"successful operation"},"400":{"description":"Invalid username/password supplied"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"refreshTokenAuth":[]}]}},"/employee/organization":{"get":{"tags":["mobile","employee"],"summary":"Returns the organization of the employee","parameters":[],"responses":{"200":{"description":"successful operation"}},"security":[{"tokenAuth":[]}]}},"/employee/appointments":{"get":{"tags":["mobile","employee"],"summary":"Lists appointments for the employee","parameters":[{"name":"startDate","in":"query","required":false},{"name":"endDate","in":"query","required":false},{"name":"clientName","in":"query","required":false}],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"tokenAuth":[]}]},"post":{"tags":["mobile","employee"],"summary":"Uploads a new appointment","parameters":[],"responses":{"201":{"description":"successfully created"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"},"409":{"description":"already exists"}},"security":[{"tokenAuth":[]}]},"put":{"tags":["mobile","employee"],"summary":"Modifies appointment","parameters":[],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"},"404":{"description":"Invalid parameters or ID not found"}},"security":[{"tokenAuth":[]}]}},"/employee/appointmentCreationData":{"get":{"tags":["mobile","employee"],"summary":"Gets the data so as to create and appointment","parameters":[],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"tokenAuth":[]}]}},"/employee/appointments/{appointmentId}":{"get":{"tags":["mobile","employee"],"summary":"Gets the appointment with the given id","parameters":[{"name":"appointmentId","in":"path","required":true}],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"},"404":{"description":"resource not found"}},"security":[{"tokenAuth":[]}]},"delete":{"tags":["mobile","employee"],"summary":"Cancels appointment","parameters":[{"name":"appointmentId","in":"path","required":true}],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"tokenAuth":[]}]}},"/employee/clients":{"get":{"tags":["mobile","employee"],"summary":"Lists the clients who are registered to the organization","parameters":[{"name":"name","in":"query","required":false}],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"},"404":{"description":"resource not found"}},"security":[{"tokenAuth":[]}]},"post":{"tags":["mobile","employee"],"summary":"Registers a client","parameters":[],"responses":{"201":{"description":"successfully created"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"},"409":{"description":"already exists"}},"security":[{"tokenAuth":[]}]}},"/employee/report":{"get":{"tags":["mobile","employee"],"summary":"Creates a report of the work of the given period","parameters":[{"name":"startDate","in":"query","required":false},{"name":"endDate","in":"query","required":false}],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"tokenAuth":[]}]}},"/client/login":{"get":{"tags":["mobile","client"],"summary":"Logs client into the system","parameters":[],"responses":{"200":{"description":"successful operation"},"400":{"description":"Invalid username/password supplied"},"401":{"description":"Not authenticated"}},"security":[{"basicAuth":[]}]}},"/client/register":{"post":{"tags":["mobile","client"],"summary":"Registers client // needs to fill the form with personal info","parameters":[],"responses":{"201":{"description":"successfully created"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"},"409":{"description":"already exists"}}}},"/client/refresh":{"get":{"tags":["mobile","client"],"summary":"Refresh client's token","parameters":[],"responses":{"200":{"description":"successful operation"},"400":{"description":"Invalid username/password supplied"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"refreshTokenAuth":[]}]}},"/client/organization":{"get":{"tags":["mobile","client"],"summary":"Lists details of the organization // no authentication required","parameters":[],"responses":{"200":{"description":"successful operation"}}}},"/client/shareDataWithOrganization":{"get":{"tags":["mobile","client"],"summary":"Share their personal/client data with the organization //client is registered by employee","parameters":[],"responses":{"200":{"description":"successful operation"}}}},"/client/appointments":{"get":{"tags":["mobile","client"],"summary":"Lists the appointments","parameters":[],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"tokenAuth":[]}]}},"/client/appointments/{appointmentId}":{"delete":{"tags":["mobile","client"],"summary":"Cancel appointment","parameters":[{"name":"appointmentId","in":"path","required":true}],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"},"404":{"description":"resource not found"}},"security":[{"tokenAuth":[]}]}},"/":{"get":{"tags":["admin"],"summary":"Loads admin page","parameters":[],"responses":{"200":{"description":"successful operation"}}}},"/admin/login":{"post":{"tags":["admin"],"summary":"Logs employee into the system","parameters":[],"responses":{"200":{"description":"successful operation","headers":{"Set-Cookie":{}}},"401":{"description":"Invalid username/password supplied"}},"security":[{"webCredentialsAuth":[]}]}},"/admin/logout":{"get":{"tags":["admin"],"summary":"Logs employee out of the system","parameters":[],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"cookieTokenAuth":[]}]}},"/admin/forgottenPassword":{"get":{"tags":["admin"],"summary":"Asks for new password","parameters":[],"responses":{"200":{"description":"successful operation"},"404":{"description":"account not found"}}}},"/admin/overview":{"get":{"tags":["admin"],"summary":"Loads data for overview page","parameters":[],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"cookieTokenAuth":[]}]}},"/admin/organization":{"get":{"tags":["admin"],"summary":"Loads data for organization details page","parameters":[],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"cookieTokenAuth":[]}]}},"/admin/appointments":{"get":{"tags":["admin"],"summary":"Lists appointments for the employee","parameters":[],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"cookieTokenAuth":[]}]},"post":{"tags":["admin"],"summary":"Uploads a new appointment","parameters":[],"responses":{"201":{"description":"successfully created"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"},"409":{"description":"already exists"}},"security":[{"cookieTokenAuth":[]}]},"put":{"tags":["admin"],"summary":"Modifies appointment","parameters":[],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"cookieTokenAuth":[]}]}},"/admin/appointments/{appointmentId}":{"get":{"tags":["admin"],"summary":"Gets the appointment with the given id","parameters":[{"name":"appointmentId","in":"path","required":true}],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"},"404":{"description":"resource not found"}},"security":[{"cookieTokenAuth":[]}]},"delete":{"tags":["admin"],"summary":"Cancels appointment","parameters":[{"name":"appointmentId","in":"path","required":true}],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"},"404":{"description":"resource not found"}},"security":[{"cookieTokenAuth":[]}]}},"/admin/clients":{"get":{"tags":["admin"],"summary":"Lists the clients who are registered to the organization","parameters":[],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"cookieTokenAuth":[]}]},"post":{"tags":["admin"],"summary":"Registers a client","parameters":[],"responses":{"201":{"description":"successfully created"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"},"409":{"description":"already exists"}},"security":[{"cookieTokenAuth":[]}]}},"/admin/activities":{"get":{"tags":["admin"],"summary":"Lists the activities that are connected to the employee","parameters":[],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"}},"security":[{"cookieTokenAuth":[]}]}},"/admin/report":{"get":{"tags":["admin"],"summary":"Creates a report of the work of the given period","parameters":[],"responses":{"200":{"description":"successful operation"},"401":{"description":"Not authenticated"},"403":{"description":"Access token does not have the required scope"},"404":{"description":"resource not found"}},"security":[{"cookieTokenAuth":[]}]}}},"definitions":{"Common_Activity":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"}}},"Common_Appointment":{"type":"object","properties":{"id":{"type":"string"},"isPrivate":{"type":"boolean"},"startTime":{"type":"number","format":"double"},"endTime":{"type":"number","format":"double"},"client":{"$ref":"#/definitions/Common_Client"},"activity":{"$ref":"#/definitions/Common_Activity"},"place":{"type":"string"},"price":{"type":"number","format":"double"},"online":{"type":"boolean"},"note":{"type":"string"}}},"Common_Client":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"personalInfos":{"type":"object","additionalProperties":{"type":"string"}}}},"Common_Employee":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"phone":{"type":"string"},"email":{"type":"string"},"activities":{"type":"array","items":{"$ref":"#/definitions/Common_Activity"}}}},"Common_Token":{"type":"object","properties":{"token":{"type":"string"}}},"ForEmployee_DataForAppointmentCreation":{"type":"object","properties":{"activities":{"type":"array","items":{"$ref":"#/definitions/Common_Activity"}},"clients":{"type":"array","items":{"$ref":"#/definitions/Common_Client"}},"places":{"type":"array","items":{"type":"string"}}}},"ForEmployee_ActivityForReport":{"type":"object","properties":{"name":{"type":"string"},"sumHours":{"type":"number","format":"double"},"sumIncome":{"type":"number","format":"double"}}},"ForEmployee_Report":{"type":"object","properties":{"sumOnlineHours":{"type":"number","format":"double"},"sumLocalHours":{"type":"number","format":"double"},"sumOnlineIncome":{"type":"number","format":"double"},"sumLocalIncome":{"type":"number","format":"double"},"activities":{"type":"array","items":{"$ref":"#/definitions/ForEmployee_ActivityForReport"}}}},"ForEmployee_Organization":{"type":"object","properties":{"id":{"type":"string"},"clientPersonalInfoFields":{"type":"array","items":{"type":"string"}}}},"ForClient_Appointment":{"type":"object","properties":{"id":{"type":"string"},"startTime":{"type":"number","format":"double"},"endTime":{"type":"number","format":"double"},"employee":{"$ref":"#/definitions/Common_Employee"},"activity":{"$ref":"#/definitions/Common_Activity"},"place":{"type":"string"},"price":{"type":"number","format":"double"},"online":{"type":"boolean"},"note":{"type":"string"}}},"ForClient_Organization":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"details":{"type":"string"},"isClientRegistered":{"type":"boolean"},"employees":{"type":"array","items":{"$ref":"#/definitions/Common_Employee"}}}},"ForAdmin_Overview":{"type":"object","properties":{"appointmentsToday":{"type":"integer"},"onlineAppointmentsToday":{"type":"integer"},"registeredUsers":{"type":"integer"}}},"ForAdmin_Organization":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"details":{"type":"string"},"canClientContactEmployees":{"type":"boolean"},"employees":{"type":"array","items":{"$ref":"#/definitions/Common_Employee"}},"clients":{"type":"array","items":{"$ref":"#/definitions/Common_Client"}},"activities":{"type":"array","items":{"$ref":"#/definitions/Common_Activity"}},"addresses":{"type":"array","items":{"type":"string"}},"clientPersonalInfoFields":{"type":"array","items":{"type":"string"}}}},"ForAdmin_ReportAppointment":{"type":"object","properties":{"employeeName":{"type":"string"},"activityName":{"type":"string"},"appointmentDate":{"type":"number","format":"double"},"isOnline":{"type":"boolean"},"duration":{"type":"number","format":"double"},"income":{"type":"number","format":"double"}}},"ForAdmin_Report":{"type":"object","properties":{"organizationName":{"type":"string"},"startDate":{"type":"number","format":"double"},"endDate":{"type":"number","format":"double"},"appointments":{"type":"array","items":{"$ref":"#/definitions/ForAdmin_ReportAppointment"}}}},"ForAdmin_Login":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"requestBodies":{},"securitySchemes":{}}}